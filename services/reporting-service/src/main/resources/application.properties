# Application Configuration
spring.application.name=reporting-service
server.port=8086

# Database Configuration (Read Replica for Reporting)
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:reporting_db}?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=${DB_USERNAME:reporting_user}
spring.datasource.password=${DB_PASSWORD:password}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Redis Cache Configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.cache.type=redis
spring.cache.redis.time-to-live=1800000
spring.cache.redis.cache-null-values=false

# AWS Configuration
aws.region=${AWS_REGION:us-east-1}
aws.s3.bucket.reports=${S3_REPORTS_BUCKET:cookedspecially-reports}
aws.ses.from-email=${SES_FROM_EMAIL:reports@cookedspecially.com}

# Report Configuration
report.cache.ttl.minutes=30
report.max.date.range.days=365
report.default.date.range.days=30
report.export.formats=EXCEL,PDF
report.temp.storage.path=/tmp/reports

# Scheduled Report Configuration
scheduled.reports.enabled=${SCHEDULED_REPORTS_ENABLED:true}
scheduled.reports.cron.daily=${DAILY_REPORT_CRON:0 0 8 * * ?}
scheduled.reports.cron.weekly=${WEEKLY_REPORT_CRON:0 0 9 * * MON}
scheduled.reports.cron.monthly=${MONTHLY_REPORT_CRON:0 0 9 1 * ?}

# Security Configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${JWT_ISSUER_URI:https://cognito-idp.us-east-1.amazonaws.com/us-east-1_example}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${JWT_JWK_SET_URI:https://cognito-idp.us-east-1.amazonaws.com/us-east-1_example/.well-known/jwks.json}

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.cookedspecially.reportingservice=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
